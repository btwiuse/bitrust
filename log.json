[
  {
    "hash": "5c710b593b429d39ea01375172a9ce968f43ab26",
    "author": "bors",
    "date": 1430454173,
    "message": "Auto merge of #24793 - aturon:io-error-any, r=alexcrichton\n\nThis commit brings the `Error` trait in line with the [Error interoperation\r\nRFC](https://github.com/rust-lang/rfcs/pull/201) by adding downcasting,\r\nwhich has long been intended. This change means that for any `Error`\r\ntrait objects that are `'static`, you can downcast to concrete error\r\ntypes.\r\n\r\nTo make this work, it is necessary for `Error` to inherit from\r\n`Reflect` (which is currently used to mark concrete types as \"permitted\r\nfor reflection, aka downcasting\"). This is a breaking change: it means\r\nthat impls like\r\n\r\n```rust\r\nimpl<T> Error for MyErrorType<T> { ... }\r\n```\r\n\r\nmust change to\r\n\r\n```rust\r\nimpl<T: Reflect> Error for MyErrorType<T> { ... }\r\n```\r\n\r\nThis commit furthermore marks `Reflect` as stable, since we are already\r\nessentially committed to it via `Any`. Note that in the future, if we\r\ndetermine that the parametricity aspects of `Reflect` are not needed, we\r\ncan deprecate the trait and provide a blanket implementation for it\r\nfor *all* types (rather than by using OIBIT), which would allow all\r\nmentions of `Reflect` to be dropped over time. So there is not a strong\r\ncommitment here.\r\n\r\n[breaking-change]\r\n\r\nr? @alexcrichton"
  },
  {
    "hash": "a5762625a168f195afbc5b74d674a93f8c692a8e",
    "author": "Aaron Turon",
    "date": 1430443222,
    "message": "Add downcasting to std::error::Error\n\nThis commit brings the `Error` trait in line with the [Error interoperation\nRFC](https://github.com/rust-lang/rfcs/pull/201) by adding downcasting,\nwhich has long been intended. This change means that for any `Error`\ntrait objects that are `'static`, you can downcast to concrete error\ntypes.\n\nTo make this work, it is necessary for `Error` to inherit from\n`Reflect` (which is currently used to mark concrete types as \"permitted\nfor reflection, aka downcasting\"). This is a breaking change: it means\nthat impls like\n\n```rust\nimpl<T> Error for MyErrorType<T> { ... }\n```\n\nmust change to something like\n\n```rust\nimpl<T: Reflect> Error for MyErrorType<T> { ... }\n```\n\nexcept that `Reflect` is currently unstable (and should remain so for\nthe time being). For now, code can instead bound by `Any`:\n\n```rust\nimpl<T: Any> Error for MyErrorType<T> { ... }\n```\n\nwhich *is* stable and has `Reflect` as a super trait. The downside is\nthat this imposes a `'static` constraint, but that only\nconstrains *when* `Error` is implemented -- it does not actually\nconstrain the types that can implement `Error`.\n\n[breaking-change]"
  },
  {
    "hash": "b475fc7d6aa1cafa91790c273908fddfb669a82e",
    "author": "Ulrik Sverdrup",
    "date": 1430213913,
    "message": "collections: Implement vec::drain(range) according to RFC 574\n\nOld `.drain()` on vec is performed using `.drain(..)` now.\n\n`.drain(range)` is unstable and under feature(collections_drain)\n\n[breaking-change]"
  },
  {
    "hash": "441b3f0c26c2e30ddb012be968141da7ce7d9d62",
    "author": "bors",
    "date": 1430241156,
    "message": "Auto merge of #24906 - pnkfelix:fsk-fix-24895, r=alexcrichton\n\ndropck: Remove `Copy` from special-cased traits\r\n\r\nFix #24895.\r\n\r\n[breaking-change]\r\n\r\nWhat does this break?  Basically, code that implements `Drop` and is\r\nusing `T:Copy` for one of its type parameters and is relying on the\r\nDrop Check rule not applying to it.\r\n\r\nHere is an example:\r\n\r\n```rust\r\n#![allow(dead_code,unused_variables,unused_assignments)]\r\nstruct D<T:Copy>(T);\r\nimpl<T:Copy> Drop for D<T> { fn drop(&mut self) { } }\r\n\r\ntrait UserT { fn c(&self) { } }\r\nimpl<T:Copy> UserT for T { }\r\nstruct E<T:UserT>(T);\r\nimpl<T:UserT> Drop for E<T> { fn drop(&mut self) { } }\r\n\r\n// This one will start breaking.\r\nfn foo() { let (d2, d1); d1 = D(34); d2 = D(&d1); }\r\n\r\n#[cfg(this_one_does_and_should_always_break)]\r\nfn bar() { let (e2, e1); e1 = E(34); e2 = E(&e1); }\r\n\r\nfn main() {\r\n    foo();\r\n}\r\n```"
  },
  {
    "hash": "b892264ea4f048feb5f380d3e659d82ba463f5b7",
    "author": "Felix S. Klock II",
    "date": 1430236036,
    "message": "Fix #24895.\n\n[breaking-change]\n\nWhat does this break?  Basically, code that implements `Drop` and is\nusing `T:Copy` for one of its type parameters and is relying on the\nDrop Check rule not applying to it.\n\nHere is an example:\n\n```rust\n#![allow(dead_code,unused_variables,unused_assignments)]\nstruct D<T:Copy>(T);\nimpl<T:Copy> Drop for D<T> { fn drop(&mut self) { } }\n\ntrait UserT { fn c(&self) { } }\nimpl<T:Copy> UserT for T { }\nstruct E<T:UserT>(T);\nimpl<T:UserT> Drop for E<T> { fn drop(&mut self) { } }\n\n// This one will start breaking.\nfn foo() { let (d2, d1); d1 = D(34); d2 = D(&d1); }\n\n#[cfg(this_one_does_and_should_always_break)]\nfn bar() { let (e2, e1); e1 = E(34); e2 = E(&e1); }\n\nfn main() {\n    foo();\n}\n```"
  },
  {
    "hash": "9c88f3be126d0fe02a92c20e1d78192f4b648401",
    "author": "bors",
    "date": 1430167608,
    "message": "Auto merge of #24765 - pnkfelix:fsk-enum-swapindrop, r=nikomatsakis\n\nInspect enum discriminant *after* calling its destructor\r\n\r\nIncludes some drive-by cleanup (e.g. changed some field and method names to reflect fill-on-drop; added comments about zero-variant enums being classified as `_match::Single`).\r\n\r\nProbably the most invasive change was the expansion of the maps `available_drop_glues` and `drop_glues` to now hold two different kinds of drop glues; there is the (old) normal drop glue, and there is (new) drop-contents glue that jumps straight to dropping the contents of a struct or enum, skipping its destructor.\r\n\r\n * For all types that do not have user-defined Drop implementations, the normal glue is generated as usual (i.e. recursively dropping the fields of the data structure).\r\n\r\n  (And this actually is exactly what the newly-added drop-contents glue does as well.)\r\n\r\n * For types that have user-defined Drop implementations, the \"normal\" drop glue now schedules a cleanup before invoking the `Drop::drop` method that will call the drop-contents glue after that invocation returns.\r\n\r\nFix #23611.\r\n\r\n----\r\n\r\nIs this a breaking change?  The prior behavior was totally unsound, and it seems unreasonable that anyone was actually relying on it.\r\n\r\nNonetheless, since there is a user-visible change to the language semantics, I guess I will conservatively mark this as a:\r\n\r\n[breaking-change]\r\n\r\n(To see an example of what sort of user-visible change this causes, see the comments in the regression test.)"
  },
  {
    "hash": "6365080c5cd27b74ec87420c351a3e7bdcff988e",
    "author": "bors",
    "date": 1430041948,
    "message": "Auto merge of #23085 - goffrie:interpolating-quote, r=huonw\n\nThis changes the `ToTokens` implementations for expressions, statements, etc. with almost-trivial ones that produce `Interpolated(*Nt(...))` pseudo-tokens. In this way, quasiquote now works the same way as macros do: already-parsed AST fragments are used as-is, not reparsed.\r\n\r\nThe `ToSource` trait is removed. Quasiquote no longer involves pretty-printing at all, which removes the need for the `encode_with_hygiene` hack. All associated machinery is removed.\r\n\r\nNew `Nonterminal`s are added: NtArm, NtImplItem, and NtTraitItem. These are just for quasiquote, not macros.\r\n\r\n`ToTokens` is no longer implemented for `Arg` (although this could be added again) and `Generics` (which I don't think makes sense).\r\n\r\nThis breaks any compiler extensions that relied on the ability of `ToTokens` to turn AST fragments back into inspectable token trees. For this reason, this closes #16987.\r\n\r\nAs such, this is a [breaking-change].\r\n\r\nFixes #16472.\r\nFixes #15962.\r\nFixes #17397.\r\nFixes #16617."
  },
  {
    "hash": "2d9831dea598d8a45c69e8c799503e8a397aacc0",
    "author": "Geoffry Song",
    "date": 1430012530,
    "message": "Interpolate AST nodes in quasiquote.\n\nThis changes the `ToTokens` implementations for expressions, statements,\netc. with almost-trivial ones that produce `Interpolated(*Nt(...))`\npseudo-tokens. In this way, quasiquote now works the same way as macros\ndo: already-parsed AST fragments are used as-is, not reparsed.\n\nThe `ToSource` trait is removed. Quasiquote no longer involves\npretty-printing at all, which removes the need for the\n`encode_with_hygiene` hack. All associated machinery is removed.\n\nA new `Nonterminal` is added, NtArm, which the parser now interpolates.\nThis is just for quasiquote, not macros (although it could be in the\nfuture).\n\n`ToTokens` is no longer implemented for `Arg` (although this could be\nadded again) and `Generics` (which I don't think makes sense).\n\nThis breaks any compiler extensions that relied on the ability of\n`ToTokens` to turn AST fragments back into inspectable token trees. For\nthis reason, this closes #16987.\n\nAs such, this is a [breaking-change].\n\nFixes #16472.\nFixes #15962.\nFixes #17397.\nFixes #16617."
  },
  {
    "hash": "00c48d3779fb4c372d2dfe7a8654c6cd1e065511",
    "author": "bors",
    "date": 1429998290,
    "message": "Auto merge of #24547 - bombless:comma, r=pnkfelix\n\nCloses #20616 \r\nIt breaks code such as <https://github.com/rust-lang/rust/blob/c64feb63418fd05bd6e5adc6f9ad763aa6a594b1/src/librustc_typeck/check/method/suggest.rs#L367>, so this is a [breaking-change], you have to add missing comma after the last lifetime arguement now."
  },
  {
    "hash": "eeb94886adccb3f13003f92f117115d17846ce1f",
    "author": "Alex Crichton",
    "date": 1429641463,
    "message": "std: Remove deprecated/unstable num functionality\n\nThis commit removes all the old casting/generic traits from `std::num` that are\nno longer in use by the standard library. This additionally removes the old\n`strconv` module which has not seen much use in quite a long time. All generic\nfunctionality has been supplanted with traits in the `num` crate and the\n`strconv` module is supplanted with the [rust-strconv crate][rust-strconv].\n\n[rust-strconv]: https://github.com/lifthrasiir/rust-strconv\n\nThis is a breaking change due to the removal of these deprecated crates, and the\nalternative crates are listed above.\n\n[breaking-change]"
  },
  {
    "hash": "98e9765d973d46faa5c80fb37a48040ca9e87b28",
    "author": "Alex Crichton",
    "date": 1429655286,
    "message": "rollup merge of #24541: alexcrichton/issue-24538\n\nThis is an implementation of [RFC 1030][rfc] which adds these traits to the\nprelude and additionally removes all inherent `into_iter` methods on collections\nin favor of the trait implementation (which is now accessible by default).\n\n[rfc]: https://github.com/rust-lang/rfcs/pull/1030\n\nThis is technically a breaking change due to the prelude additions and removal\nof inherent methods, but it is expected that essentially no code breaks in\npractice.\n\n[breaking-change]\nCloses #24538"
  },
  {
    "hash": "8f5b5f94dcdb9884737dfbc8efd893d1d70f0b14",
    "author": "Alex Crichton",
    "date": 1429313850,
    "message": "std: Add Default/IntoIterator/ToOwned to the prelude\n\nThis is an implementation of [RFC 1030][rfc] which adds these traits to the\nprelude and additionally removes all inherent `into_iter` methods on collections\nin favor of the trait implementation (which is now accessible by default).\n\n[rfc]: https://github.com/rust-lang/rfcs/pull/1030\n\nThis is technically a breaking change due to the prelude additions and removal\nof inherent methods, but it is expected that essentially no code breaks in\npractice.\n\n[breaking-change]\nCloses #24538"
  },
  {
    "hash": "efa6a46a8eceb4ab792d5ec8e28cf3baaaa96491",
    "author": "bors",
    "date": 1429325633,
    "message": "Auto merge of #24133 - kballard:add-sync-to-io-error, r=alexcrichton\n\nThis allows `io::Error` values to be stored in `Arc` properly.\r\n\r\nBecause this requires `Sync` of any value passed to `io::Error::new()`\r\nand modifies the relevant `convert::From` impls, this is a\r\n\r\n[breaking-change]\r\n\r\nFixes #24049."
  },
  {
    "hash": "986852911464df87088007e64780165cc538f9b9",
    "author": "Kevin Ballard",
    "date": 1428366023,
    "message": "Add `Sync` to the bounds in `io::Error`\n\nThis allows `io::Error` values to be stored in `Arc` properly.\n\nBecause this requires `Sync` of any value passed to `io::Error::new()`\nand modifies the relevant `convert::From` impls, this is a\n\n[breaking-change]\n\nFixes #24049."
  },
  {
    "hash": "e40449e0d545561c73a9b9b324b5971b533a87b7",
    "author": "bors",
    "date": 1429147024,
    "message": "Auto merge of #24485 - brson:is, r=alexcrichton\n\nIt was an oversight that this was not done in the great int upheaval.\r\n\r\n[breaking-change]"
  },
  {
    "hash": "5a3a599428f5af024857d19b5d360b148e885fa2",
    "author": "Brian Anderson",
    "date": 1429139606,
    "message": "Forbid is/us suffixes. Fixes #22496\n\nIt was an oversight that this was not done in the great int upheaval.\n\n[breaking-change]"
  },
  {
    "hash": "07f807d01f191ced1d7f4857c73fc57fbe31f421",
    "author": "bors",
    "date": 1429131916,
    "message": "Auto merge of #24330 - pnkfelix:issue-24267, r=nikomatsakis\n\nExtend rustc::middle::dataflow to allow filtering kills from flow-exits.\r\n\r\nFix borrowck analysis so that it will not treat a break that pops through an assignment\r\n```rust\r\nx = { ... break; ... }\r\n```\r\nas a kill of the \"moved-out\" bit for `x`.\r\n\r\nFix #24267.\r\n\r\n[breaking-change], but really, its only breaking code that was already buggy."
  },
  {
    "hash": "6e0fb70ff6effe7b7be2c5fe951e9161613e6707",
    "author": "Aaron Turon",
    "date": 1428961697,
    "message": "Generalize `spawn` beyond unit closures\n\n`thread::spawn` was previously restricted to closures that return `()`,\nwhich limited the utility of joining on a spawned thread. However, there\nis no reason for this restriction, and this commit allows arbitrary\nreturn types.\n\nSince it introduces a type parameter to `JoinHandle`, it's technically\na:\n\n[breaking-change]\n\nHowever, no code is actually expected to break."
  },
  {
    "hash": "6399bb425b3a82111cd554737f194c95b8f6bad5",
    "author": "Aaron Turon",
    "date": 1428952528,
    "message": "De-stabilize `thread::scoped` and friends\n\nIssue #24292 demonstrates that the `scoped` API as currently offered can\nbe memory-unsafe: the `JoinGuard` can be moved into a context that will\nfail to execute destructors prior to the stack frame being popped (for\nexample, by creating an `Rc` cycle).\n\nThis commit reverts the APIs to `unstable` status while a long-term\nsolution is worked out.\n\n(There are several possible ways to address this issue; it's not a\nfundamental problem with the `scoped` idea, but rather an indication\nthat Rust doesn't currently provide a good way to ensure that\ndestructors are run within a particular stack frame.)\n\n[breaking-change]"
  },
  {
    "hash": "e6a812402828f0f11b0de7a7e0c08c1d85a437f1",
    "author": "bors",
    "date": 1428970070,
    "message": "Auto merge of #24251 - alexcrichton:unsafe-from-raw-fd, r=aturon\n\nAs pointed out in [RFC issue 1043][rfc] it is quite useful to have the standard\r\nI/O types to provide the contract that they are the sole owner of the underlying\r\nobject they represent. This guarantee enables writing safe interfaces like the\r\n`MemoryMap` API sketched out in that issue.\r\n\r\n[rfc]: https://github.com/rust-lang/rfcs/issues/1043\r\n\r\nAs constructing objects from these raw handles may end up violating these\r\nownership gurantees, the functions for construction are now marked unsafe.\r\n\r\n[breaking-change]\r\nCloses rust-lang/rfcs#1043"
  },
  {
    "hash": "2705051e2067e8f467b4cb9bc75e801a5cd4f0e7",
    "author": "Alex Crichton",
    "date": 1428621153,
    "message": "std: Make FromRawFd::from_raw_fd an unsafe method\n\nAs pointed out in [RFC issue 1043][rfc] it is quite useful to have the standard\nI/O types to provide the contract that they are the sole owner of the underlying\nobject they represent. This guarantee enables writing safe interfaces like the\n`MemoryMap` API sketched out in that issue.\n\n[rfc]: https://github.com/rust-lang/rfcs/issues/1043\n\nAs constructing objects from these raw handles may end up violating these\nownership gurantees, the functions for construction are now marked unsafe.\n\n[breaking-change]\nCloses rust-lang/rfcs#1043"
  },
  {
    "hash": "f55e66aaed42589dcda0221a4545dbaaec68e577",
    "author": "bors",
    "date": 1428946754,
    "message": "Auto merge of #24198 - alexcrichton:windows-readlink, r=aturon\n\nThe current implementation of using GetFinalPathNameByHandle actually reads all\r\nintermediate links instead of just looking at the current link. This commit\r\nalters the behavior of the function to use a different API which correctly reads\r\nonly one level of the soft link.\r\n\r\n[breaking-change]"
  },
  {
    "hash": "f3f99fb44eea1d7037f94259aef6cbc39837ebee",
    "author": "Alex Crichton",
    "date": 1428514419,
    "message": "std: Fix fs::read_link behavior on Windows\n\nThe current implementation of using GetFinalPathNameByHandle actually reads all\nintermediate links instead of just looking at the current link. This commit\nalters the behavior of the function to use a different API which correctly reads\nonly one level of the soft link.\n\n[breaking-change]"
  },
  {
    "hash": "524547551cd6c9b33a9677e1a58e9a9d1e19c0fc",
    "author": "bors",
    "date": 1428912503,
    "message": "Auto merge of #24339 - lfairy:remove-regex-data, r=alexcrichton\n\nThe regex crate keeps its own tables now (rust-lang/regex#41) so we\r\ndon't need them here.\r\n\r\n[breaking-change]"
  },
  {
    "hash": "5308ac939a330b74540bea5920b0086a2d954648",
    "author": "Chris Wong",
    "date": 1428877810,
    "message": "Remove regex module from libunicode\n\nThe regex crate keeps its own tables now (rust-lang/regex#41) so we\ndon't need them here.\n\n[breaking-change]"
  },
  {
    "hash": "5afa2704a6fdee62b267a5df9ca0934350dfc3d1",
    "author": "bors",
    "date": 1428802013,
    "message": "Auto merge of #23011 - nagisa:the-war-of-symbol-and-symbol, r=pnkfelix\n\nWe provide tools to tell what exact symbols to emit for any fn or static, but\r\ndon’t quite check if that won’t cause any issues later on. Some of the issues\r\ninclude LLVM mangling our names again and our names pointing to wrong locations,\r\nus generating dumb foreign call wrappers, linker errors, extern functions\r\nresolving to different symbols altogether (`extern {fn fail();} fail();` in some\r\ncases calling `fail1()`), etc.\r\n\r\nBefore the commit we had a function called `note_unique_llvm_symbol`, so it is\r\nclear somebody was aware of the issue at some point, but the function was barely\r\nused, mostly in irrelevant locations.\r\n\r\nAlong with working on it I took liberty to start refactoring trans/base into\r\na few smaller modules. The refactoring is incomplete and I hope I will find some\r\nmotivation to carry on with it.\r\n\r\nThis is possibly a [breaking-change] because it makes dumbly written code\r\nproperly invalid.\r\n\r\nThis fixes all those issues about incorrect use of #[no_mangle] being not reported/misreported/ICEd by the compiler.\r\n\r\nNB. This PR does not attempt to tackle the parallel codegen issue that was mentioned in https://github.com/rust-lang/rust/pull/22811, but I believe it should be very straightforward in a follow up PR by modifying `trans::declare::get_defined_value` to look at all the contexts.\r\n\r\ncc @alexcrichton @huonw @nrc because you commented on the original RFC issue.\r\n\r\nEDIT: wow, this became much bigger than I initially intended."
  },
  {
    "hash": "f1dabed82bfed643fbbfc93203473e384c58d20a",
    "author": "Simonas Kazlauskas",
    "date": 1428065287,
    "message": "Introduce trans::declare\n\nWe provide tools to tell what exact symbols to emit for any fn or static, but\ndon’t quite check if that won’t cause any issues later on. Some of the issues\ninclude LLVM mangling our names again and our names pointing to wrong locations,\nus generating dumb foreign call wrappers, linker errors, extern functions\nresolving to different symbols altogether (extern {fn fail();} fail(); in some\ncases calling fail1()), etc.\n\nBefore the commit we had a function called note_unique_llvm_symbol, so it is\nclear somebody was aware of the issue at some point, but the function was barely\nused, mostly in irrelevant locations.\n\nAlong with working on it I took liberty to start refactoring trans/base into\na few smaller modules. The refactoring is incomplete and I hope I will find some\nmotivation to carry on with it.\n\nThis is possibly a [breaking-change] because it makes dumbly written code\nproperly invalid."
  },
  {
    "hash": "93f7fe32d30b67baa6abf09c073c5862a978dc57",
    "author": "bors",
    "date": 1428709764,
    "message": "Auto merge of #24270 - pnkfelix:use-disr-val-for-derive-ord, r=brson\n\nUse `discriminant_value` intrinsic for `derive(PartialOrd)`\r\n\r\n[breaking-change]\r\n\r\nThis is a [breaking-change] because it can change the result of comparison operators when enum discriminants have been explicitly assigned.  Notably in a case like:\r\n```rust\r\n#[derive(PartialOrd)]\r\nenum E { A = 2, B = 1}\r\n```\r\n\r\nUnder the old deriving, `A < B` held, because `A` came before `B` in the order of declaration.  But now we use the ordering according to the provided values, and thus `A > B`.  (However, this change is very unlikely to break much, if any, code, since the orderings themselves should all remain well-defined, total, etc.)\r\n\r\nFix #15523"
  },
  {
    "hash": "d6c72306c8fc2ec0fd9d6e499c32f2bf52f0b8ba",
    "author": "Alex Crichton",
    "date": 1428624422,
    "message": "std: Set CLOEXEC for all fds opened on unix\n\nThis commit starts to set the CLOEXEC flag for all files and sockets opened by\nthe standard library by default on all unix platforms. There are a few points of\nnote in this commit:\n\n* The implementation is not 100% satisfactory in the face of threads. File\n  descriptors only have the `F_CLOEXEC` flag set *after* they are opened,\n  allowing for a fork/exec to happen in the middle and leak the descriptor.\n  Some platforms do support atomically opening a descriptor while setting the\n  `CLOEXEC` flag, and it is left as a future extension to bind these apis as it\n  is unclear how to do so nicely at this time.\n\n* The implementation does not offer a method of opting into the old behavior of\n  not setting `CLOEXEC`. This will possibly be added in the future through\n  extensions on `OpenOptions`, for example.\n\n* This change does not yet audit any Windows APIs to see if the handles are\n  inherited by default by accident.\n\nThis is a breaking change for users who call `fork` or `exec` outside of the\nstandard library itself and expect file descriptors to be inherted. All file\ndescriptors created by the standard library will no longer be inherited.\n\n[breaking-change]"
  },
  {
    "hash": "e3f324cd9d7b27eda6133c407a4751a8b0217631",
    "author": "Aaron Turon",
    "date": 1428594849,
    "message": "Improve bounds in Iterator API\n\nThis commit changes `Iterator`'s API by:\n\n* Generalizing bounds from `Iterator` to `IntoIterator` whenever\n  possible, matching the semantics and ergonomics of `for` loops.\n\n* Tightens up a few method-level bounds so that you get an error\n  earlier. For example, `rev` did not require `DoubleEndedIterator` even\n  though the result is only an `Iterator` when the original iterator was\n  double-ended.\n\nCloses #23587\n\nThe bound-tightening is technically a:\n\n[breaking-change]\n\nbut no code should break in practice."
  },
  {
    "hash": "5daee19eca622030c598042d9615df17d4ad035f",
    "author": "Manish Goregaokar",
    "date": 1428605683,
    "message": "Rollup merge of #24212 - alexcrichton:destabilize-begin-unwind, r=huonw\n\n Now that we have a `#[allow_internal_unstable]` attribute for macros there's no\nneed for these two `begin_unwind` functions to be stable. Right now the `panic!`\ninterface is the only one we wish to stabilize, so remove the stability markers\nfrom these functions.\n\nWhile this is a breaking change, it is highly unlikely to break any actual code.\nIt is recommended to use the `panic!` macro instead if it breaks explicit calls\ninto `std::rt`.\n\n[breaking-change]\ncc #24208"
  },
  {
    "hash": "65e3f0325a64d8f1affa146b3575a4b7c90458d7",
    "author": "Alex Crichton",
    "date": 1428533326,
    "message": "std: Destabilize the internals of panic!\n\nNow that we have a `#[allow_internal_unstable]` attribute for macros there's no\nneed for these two `begin_unwind` functions to be stable. Right now the `panic!`\ninterface is the only one we wish to stabilize, so remove the stability markers\nfrom these functions.\n\nWhile this is a breaking change, it is highly unlikely to break any actual code.\nIt is recommended to use the `panic!` macro instead if it breaks explicit calls\ninto `std::rt`.\n\n[breaking-change]\ncc #24208"
  },
  {
    "hash": "97f24a85965c3c51a2c18be029091ae52bbd7920",
    "author": "Tobias Bucher",
    "date": 1428445595,
    "message": "Make `sum` and `product` inherent methods on `Iterator`\n\nIn addition to being nicer, this also allows you to use `sum` and `product` for\niterators yielding custom types aside from the standard integers.\n\nDue to removing the `AdditiveIterator` and `MultiplicativeIterator` trait, this\nis a breaking change.\n\n[breaking-change]"
  },
  {
    "hash": "82dcec7ee4a8a71fdfb8e8771ae6785261ec1d5b",
    "author": "bors",
    "date": 1428045231,
    "message": "Auto merge of #23934 - lfairy:write-no-deref, r=alexcrichton\n\nThis means passing in e.g. a `Vec<u8>` or `String` will work as\r\nintended, rather than deref-ing to `&mut [u8]` or `&mut str`.\r\n\r\n[breaking-change]\r\n\r\nCloses #23768"
  },
  {
    "hash": "7c3efcc5bb260234fc163340c9fd7aad3d8d780e",
    "author": "Chris Wong",
    "date": 1427870929,
    "message": "Don't reborrow the target of a `write!()`\n\nThis means passing in e.g. a `Vec<u8>` or `String` will work as\nintended, rather than deref-ing to `&mut [u8]` or `&mut str`.\n\n[breaking-change]\n\nCloses #23768"
  },
  {
    "hash": "fc98b19cf72ea45851ebb7b28af160be92b19128",
    "author": "bors",
    "date": 1428035392,
    "message": "Auto merge of #23832 - petrochenkov:usize, r=aturon\n\nThese constants are small and can fit even in `u8`, but semantically they have type `usize` because they denote sizes and are almost always used in `usize` context. The change of their type to `u32` during the integer audit led only to the large amount of `as usize` noise (see the second commit, which removes this noise).\r\n\r\nThis is a minor [breaking-change] to an unstable interface.\r\n\r\nr? @aturon"
  },
  {
    "hash": "655634e6ab00707ef98034dcfb32000cbfa7a01c",
    "author": "Alex Crichton",
    "date": 1427921780,
    "message": "rollup merge of #23949: aturon/stab-timeout\n\nThis commit renames and stabilizes:\n\n* `Condvar::wait_timeout_ms` (renamed from `wait_timeout`)\n* `thread::park_timeout_ms` (renamed from `park_timeout`)\n* `thread::sleep_ms` (renamed from `sleep`)\n\nIn each case, the timeout is taken as a `u32` number of milliseconds,\nrather than a `Duration`.\n\nThese functions are likely to be deprecated once a stable form of\n`Duration` is available, but there is little cost to having these named\nvariants around, and it's crucial functionality for 1.0.\n\n[breaking-change]\n\nr? @alexcrichton\n\ncc @sfackler @carllerche"
  },
  {
    "hash": "371277fb0d210152eb8c79e30bd7f7749c5af63c",
    "author": "Aaron Turon",
    "date": 1427921025,
    "message": "Stabilize basic timeout functionality\n\nThis commit renames and stabilizes:\n\n* `Condvar::wait_timeout_ms` (renamed from `wait_timeout`)\n* `thread::park_timeout_ms` (renamed from `park_timeout`)\n* `thread::sleep_ms` (renamed from `sleep`)\n\nIn each case, the timeout is taken as a `u32` number of milliseconds,\nrather than a `Duration`.\n\nThese functions are likely to be deprecated once a stable form of\n`Duration` is available, but there is little cost to having these named\nvariants around, and it's crucial functionality for 1.0.\n\n[breaking-change]"
  },
  {
    "hash": "cade32acf6f5ff209ee082d70350d9bc0362985a",
    "author": "Niko Matsakis",
    "date": 1427913681,
    "message": "Remove `Thunk` struct and `Invoke` trait; change `Thunk` to be an alias\nfor `Box<FnBox()>`. I found the alias was still handy because it is\nshorter than the fully written type.\n\nThis is a [breaking-change]: convert code using `Invoke` to use `FnBox`,\nwhich is usually pretty straight-forward. Code using thunk mostly works\nif you change `Thunk::new => Box::new` and `foo.invoke(arg)` to\n`foo(arg)`."
  },
  {
    "hash": "e9bacbaa2c9c88aaecf07ee30f02d08a1999e5c6",
    "author": "Alex Crichton",
    "date": 1427920208,
    "message": "rollup merge of #23951: alexcrichton/splitn\n\nThis commit is an implementation of [RFC 979][rfc] which changes the meaning of\nthe count parameter to the `splitn` function on strings and slices. The\nparameter now means the number of items that are returned from the iterator, not\nthe number of splits that are made.\n\n[rfc]: https://github.com/rust-lang/rfcs/pull/979\n\nCloses #23911\n[breaking-change]"
  },
  {
    "hash": "e98dce3e00a7b6bfd264418ef993bbf9cdb1f0b6",
    "author": "Alex Crichton",
    "date": 1427920182,
    "message": "std: Changing the meaning of the count to splitn\n\nThis commit is an implementation of [RFC 979][rfc] which changes the meaning of\nthe count parameter to the `splitn` function on strings and slices. The\nparameter now means the number of items that are returned from the iterator, not\nthe number of splits that are made.\n\n[rfc]: https://github.com/rust-lang/rfcs/pull/979\n\nCloses #23911\n[breaking-change]"
  },
  {
    "hash": "ac77392f8ab1c201b0c927f6a2d30b632b95acda",
    "author": "Alex Crichton",
    "date": 1427843568,
    "message": "std: Stabilize last bits of io::Error\n\nThis commit stabilizes a few remaining bits of the `io::Error` type:\n\n* The `Error::new` method is now stable. The last `detail` parameter was removed\n  and the second `desc` parameter was generalized to `E: Into<Box<Error>>` to\n  allow creating an I/O error from any form of error. Currently there is no form\n  of downcasting, but this will be added in time.\n\n* An implementation of `From<&str> for Box<Error>` was added to liballoc to\n  allow construction of errors from raw strings.\n\n* The `Error::raw_os_error` method was stabilized as-is.\n\n* Trait impls for `Clone`, `Eq`, and `PartialEq` were removed from `Error` as it\n  is not possible to use them with trait objects.\n\nThis is a breaking change due to the modification of the `new` method as well as\nthe removal of the trait implementations for the `Error` type.\n\n[breaking-change]"
  },
  {
    "hash": "3422be3666cba57f1a6fb6ab3deb1a6df66b7695",
    "author": "Alex Crichton",
    "date": 1427842775,
    "message": "rollup merge of #23288: alexcrichton/issue-19470\n\nThis is a deprecated attribute that is slated for removal, and it also affects\nall implementors of the trait. This commit removes the attribute and fixes up\nimplementors accordingly. The primary implementation which was lost was the\nability to compare `&[T]` and `Vec<T>` (in that order).\n\nThis change also modifies the `assert_eq!` macro to not consider both directions\nof equality, only the one given in the left/right forms to the macro. This\nmodification is motivated due to the fact that `&[T] == Vec<T>` no longer\ncompiles, causing hundreds of errors in unit tests in the standard library (and\nlikely throughout the community as well).\n\nCloses #19470\n[breaking-change]"
  },
  {
    "hash": "5cf126ae2f6af1cdac901f6995e3c2bab35e587f",
    "author": "Alex Crichton",
    "date": 1427834354,
    "message": "std: Remove #[old_orphan_check] from PartialEq\n\nThis is a deprecated attribute that is slated for removal, and it also affects\nall implementors of the trait. This commit removes the attribute and fixes up\nimplementors accordingly. The primary implementation which was lost was the\nability to compare `&[T]` and `Vec<T>` (in that order).\n\nThis change also modifies the `assert_eq!` macro to not consider both directions\nof equality, only the one given in the left/right forms to the macro. This\nmodification is motivated due to the fact that `&[T] == Vec<T>` no longer\ncompiles, causing hundreds of errors in unit tests in the standard library (and\nlikely throughout the community as well).\n\ncc #19470\n[breaking-change]"
  },
  {
    "hash": "80bf31dd514055177b22c3dc66836d39eb5b1648",
    "author": "bors",
    "date": 1427813446,
    "message": "Auto merge of #23549 - aturon:stab-num, r=alexcrichton\n\nThis commit stabilizes the `std::num` module:\r\n\r\n* The `Int` and `Float` traits are deprecated in favor of (1) the\r\n  newly-added inherent methods and (2) the generic traits available in\r\n  rust-lang/num.\r\n\r\n* The `Zero` and `One` traits are reintroduced in `std::num`, which\r\n  together with various other traits allow you to recover the most\r\n  common forms of generic programming.\r\n\r\n* The `FromStrRadix` trait, and associated free function, is deprecated\r\n  in favor of inherent implementations.\r\n\r\n* A wide range of methods and constants for both integers and floating\r\n  point numbers are now `#[stable]`, having been adjusted for integer\r\n  guidelines.\r\n\r\n* `is_positive` and `is_negative` are renamed to `is_sign_positive` and\r\n  `is_sign_negative`, in order to address #22985\r\n\r\n* The `Wrapping` type is moved to `std::num` and stabilized;\r\n  `WrappingOps` is deprecated in favor of inherent methods on the\r\n  integer types, and direct implementation of operations on\r\n  `Wrapping<X>` for each concrete integer type `X`.\r\n\r\nCloses #22985\r\nCloses #21069\r\n\r\n[breaking-change]\r\n\r\nr? @alexcrichton"
  },
  {
    "hash": "e17f4fc1d4545f5c17b21805c5145b05495484ee",
    "author": "Sean McArthur",
    "date": 1427764138,
    "message": "convert: remove FromError, use From<E> instead\n\nThis removes the FromError trait, since it can now be expressed using\nthe new convert::Into trait. All implementations of FromError<E> where\nchanged to From<E>, and `try!` was changed to use From::from instead.\n\nBecause this removes FromError, it is a breaking change, but fixing it\nsimply requires changing the words `FromError` to `From`, and\n`from_error` to `from`.\n\n[breaking-change]"
  },
  {
    "hash": "da04788efca6ec1e421139fb4916a5aacd49a2e2",
    "author": "Alex Crichton",
    "date": 1427842406,
    "message": "rollup merge of #23875: aturon/revise-convert-2\n\n* Marks `#[stable]` the contents of the `std::convert` module.\n\n* Added methods `PathBuf::as_path`, `OsString::as_os_str`,\n  `String::as_str`, `Vec::{as_slice, as_mut_slice}`.\n\n* Deprecates `OsStr::from_str` in favor of a new, stable, and more\n  general `OsStr::new`.\n\n* Adds unstable methods `OsString::from_bytes` and `OsStr::{to_bytes,\n  to_cstring}` for ergonomic FFI usage.\n\n[breaking-change]\n\nr? @alexcrichton"
  },
  {
    "hash": "9fc51efe3344a32d9e522f08383f052277b6ab63",
    "author": "Aaron Turon",
    "date": 1427826278,
    "message": "Stabilize `std::convert` and related code\n\n* Marks `#[stable]` the contents of the `std::convert` module.\n\n* Added methods `PathBuf::as_path`, `OsString::as_os_str`,\n  `String::as_str`, `Vec::{as_slice, as_mut_slice}`.\n\n* Deprecates `OsStr::from_str` in favor of a new, stable, and more\n  general `OsStr::new`.\n\n* Adds unstable methods `OsString::from_bytes` and `OsStr::{to_bytes,\n  to_cstring}` for ergonomic FFI usage.\n\n[breaking-change]"
  },
  {
    "hash": "606f50c46dd9a3852d36456d2015e1ccf832642e",
    "author": "Huon Wilson",
    "date": 1427764602,
    "message": "Lex binary and octal literals more eagerly.\n\nPreviously 0b12 was considered two tokens, 0b1 and 2, as 2 isn't a valid\nbase 2 digit. This patch changes that to collapse them into one (and\nmakes `0b12` etc. an error: 2 isn't a valid base 2 digit).\n\nThis may break some macro invocations of macros with `tt` (or syntax\nextensions) that rely on adjacent digits being separate tokens and hence\nis a\n\n[breaking-change]\n\nThe fix is to separate the tokens, e.g. `0b12` -> `0b1 2`.\n\ncc https://github.com/rust-lang/rfcs/pull/879"
  },
  {
    "hash": "d03120afd36f9e3f4c1305e9e5ca0d24a3b4a32f",
    "author": "Alex Crichton",
    "date": 1427842151,
    "message": "rollup merge of #23876: alexcrichton/stabilize-any\n\nThis commit stabilizes the following APIs:\n\n* `TypeId::of` - now that it has an `Any` bound it's ready to be stable.\n* `Box<Any>::downcast` - now that an inherent impl on `Box<Any>` as well as\n  `Box<Any+Send>` is allowed the `BoxAny` trait is removed in favor of these\n  inherent methods.\n\nThis is a breaking change due to the removal of the `BoxAny` trait, but\nconsumers can simply remove imports to fix crates.\n\n[breaking-change]"
  },
  {
    "hash": "f19e763e0824a73118ed715f526cb7bdd584d4c4",
    "author": "Alex Crichton",
    "date": 1427759051,
    "message": "std: Stabilize the rest of Any/BoxAny\n\nThis commit stabilizes the following APIs:\n\n* `TypeId::of` - now that it has an `Any` bound it's ready to be stable.\n* `Box<Any>::downcast` - now that an inherent impl on `Box<Any>` as well as\n  `Box<Any+Send>` is allowed the `BoxAny` trait is removed in favor of these\n  inherent methods.\n\nThis is a breaking change due to the removal of the `BoxAny` trait, but\nconsumers can simply remove imports to fix crates.\n\n[breaking-change]"
  },
  {
    "hash": "890f0ab10a81720606805db36628f61f29d0e816",
    "author": "Alex Crichton",
    "date": 1427842150,
    "message": "rollup merge of #23766: alexcrichton/stabilize-raw-fd\n\nThis commit stabilizes the platform-specific `io` modules, specifically around\nthe traits having to do with the raw representation of each object on each\nplatform.\n\nSpecifically, the following material was stabilized:\n\n* `AsRaw{Fd,Socket,Handle}`\n* `RawFd` (renamed from `Fd`)\n* `RawHandle` (renamed from `Handle`)\n* `RawSocket` (renamed from `Socket`)\n* `AsRaw{Fd,Socket,Handle}` implementations\n* `std::os::{unix, windows}::io`\n\nThe following material was added as `#[unstable]`:\n\n* `FromRaw{Fd,Socket,Handle}`\n* Implementations for various primitives\n\nThere are a number of future improvements that are possible to make to this\nmodule, but this should cover a good bit of functionality desired from these\nmodules for now. Some specific future additions may include:\n\n* `IntoRawXXX` traits to consume the raw representation and cancel the\n  auto-destructor.\n* `Fd`, `Socket`, and `Handle` abstractions that behave like Rust objects and\n  have nice methods for various syscalls.\n\nAt this time though, these are considered backwards-compatible extensions and\nwill not be stabilized at this time.\n\nThis commit is a breaking change due to the addition of `Raw` in from of the\ntype aliases in each of the platform-specific modules.\n\n[breaking-change]"
  },
  {
    "hash": "6370f2978e485fd46bcb64f51a1c003395acfedc",
    "author": "Alex Crichton",
    "date": 1427413236,
    "message": "std: Stabilize parts of std::os::platform::io\n\nThis commit stabilizes the platform-specific `io` modules, specifically around\nthe traits having to do with the raw representation of each object on each\nplatform.\n\nSpecifically, the following material was stabilized:\n\n* `AsRaw{Fd,Socket,Handle}`\n* `RawFd` (renamed from `Fd`)\n* `RawHandle` (renamed from `Handle`)\n* `RawSocket` (renamed from `Socket`)\n* `AsRaw{Fd,Socket,Handle}` implementations\n* `std::os::{unix, windows}::io`\n\nThe following material was added as `#[unstable]`:\n\n* `FromRaw{Fd,Socket,Handle}`\n* Implementations for various primitives\n\nThere are a number of future improvements that are possible to make to this\nmodule, but this should cover a good bit of functionality desired from these\nmodules for now. Some specific future additions may include:\n\n* `IntoRawXXX` traits to consume the raw representation and cancel the\n  auto-destructor.\n* `Fd`, `Socket`, and `Handle` abstractions that behave like Rust objects and\n  have nice methods for various syscalls.\n\nAt this time though, these are considered backwards-compatible extensions and\nwill not be stabilized at this time.\n\nThis commit is a breaking change due to the addition of `Raw` in from of the\ntype aliases in each of the platform-specific modules.\n\n[breaking-change]"
  },
  {
    "hash": "5d0beb7d85e8e711334c7fb6f2c5da270e5200cb",
    "author": "Alex Crichton",
    "date": 1427822126,
    "message": "rollup merge of #23549: aturon/stab-num\n\nThis commit stabilizes the `std::num` module:\n\n* The `Int` and `Float` traits are deprecated in favor of (1) the\n  newly-added inherent methods and (2) the generic traits available in\n  rust-lang/num.\n\n* The `Zero` and `One` traits are reintroduced in `std::num`, which\n  together with various other traits allow you to recover the most\n  common forms of generic programming.\n\n* The `FromStrRadix` trait, and associated free function, is deprecated\n  in favor of inherent implementations.\n\n* A wide range of methods and constants for both integers and floating\n  point numbers are now `#[stable]`, having been adjusted for integer\n  guidelines.\n\n* `is_positive` and `is_negative` are renamed to `is_sign_positive` and\n  `is_sign_negative`, in order to address #22985\n\n* The `Wrapping` type is moved to `std::num` and stabilized;\n  `WrappingOps` is deprecated in favor of inherent methods on the\n  integer types, and direct implementation of operations on\n  `Wrapping<X>` for each concrete integer type `X`.\n\nCloses #22985\nCloses #21069\n\n[breaking-change]\n\nr? @alexcrichton"
  },
  {
    "hash": "232424d9952700682373ccf2d578109f401ff023",
    "author": "Aaron Turon",
    "date": 1427813425,
    "message": "Stabilize std::num\n\nThis commit stabilizes the `std::num` module:\n\n* The `Int` and `Float` traits are deprecated in favor of (1) the\n  newly-added inherent methods and (2) the generic traits available in\n  rust-lang/num.\n\n* The `Zero` and `One` traits are reintroduced in `std::num`, which\n  together with various other traits allow you to recover the most\n  common forms of generic programming.\n\n* The `FromStrRadix` trait, and associated free function, is deprecated\n  in favor of inherent implementations.\n\n* A wide range of methods and constants for both integers and floating\n  point numbers are now `#[stable]`, having been adjusted for integer\n  guidelines.\n\n* `is_positive` and `is_negative` are renamed to `is_sign_positive` and\n  `is_sign_negative`, in order to address #22985\n\n* The `Wrapping` type is moved to `std::num` and stabilized;\n  `WrappingOps` is deprecated in favor of inherent methods on the\n  integer types, and direct implementation of operations on\n  `Wrapping<X>` for each concrete integer type `X`.\n\nCloses #22985\nCloses #21069\n\n[breaking-change]"
  },
  {
    "hash": "57938041c18ee1c1bef362e60f24f5b2d3a46213",
    "author": "Manish Goregaokar",
    "date": 1427772878,
    "message": "Rollup merge of #23866 - alexcrichton:switch-some-orders, r=aturon\n\nThis functions swaps the order of arguments to a few functions that previously\r\ntook (output, input) parameters, but now take (input, output) parameters (in\r\nthat order).\r\n\r\nThe affected functions are:\r\n\r\n* ptr::copy\r\n* ptr::copy_nonoverlapping\r\n* slice::bytes::copy_memory\r\n* intrinsics::copy\r\n* intrinsics::copy_nonoverlapping\r\n\r\nCloses #22890\r\n[breaking-change]"
  },
  {
    "hash": "acd48a2b3e7fcc0372f7718a2fac1cf80e03db95",
    "author": "Alex Crichton",
    "date": 1427749720,
    "message": "std: Standardize (input, output) param orderings\n\nThis functions swaps the order of arguments to a few functions that previously\ntook (output, input) parameters, but now take (input, output) parameters (in\nthat order).\n\nThe affected functions are:\n\n* ptr::copy\n* ptr::copy_nonoverlapping\n* slice::bytes::copy_memory\n* intrinsics::copy\n* intrinsics::copy_nonoverlapping\n\nCloses #22890\n[breaking-change]"
  },
  {
    "hash": "c92bdcb232da3973a8a548e6b2044b610e286210",
    "author": "Niko Matsakis",
    "date": 1427706140,
    "message": "Fallout where types must be specified.\n\nThis is due to a [breaking-change] to operators. The primary affected\ncode is uses of the `Rng` trait where we used to (incorrectly) infer the\nright-hand-side type from the left-hand-side, in the case that the LHS\ntype was a scalar like `i32`. The fix is to add a type annotation like\n`x + rng.gen::<i32>()`."
  },
  {
    "hash": "14192d6df5cc714e5c9a3ca70b08f2514d977be2",
    "author": "bors",
    "date": 1427715352,
    "message": "Auto merge of #23848 - cmr:no-compiler-docs, r=huonw\n\nThis saves a bunch of a time and will make distributions smaller, as well as\navoiding filling the implementors page with internal garbage. Turn it back on\nwith `--enable-compiler-docs` if you want them.\n\n(Crates behind the facade are not documented at all)\n\n[breaking-change]"
  },
  {
    "hash": "e64b677ca66d742e7c06738bacf3a160cba827a7",
    "author": "Corey Richardson",
    "date": 1427624151,
    "message": "mk: don't build docs for internal or behind-the-facade crates in beta/stable\n\nThis saves a bunch of a time and will make distributions smaller, as well as\navoiding filling the implementors page with internal garbage. Turn it back on\nwith `--enable-compiler-docs` if you want compiler docs during development.\n\nCrates behind the facade are only documented on nightly/dev builds (where they\ncan be used).\n\n[breaking-change]\n\nCloses #23772\nCloses #21297"
  },
  {
    "hash": "227b46bdede794d5c8476b810bb1c30926bd9c04",
    "author": "bors",
    "date": 1427606489,
    "message": "Auto merge of #23810 - sfackler:debug-collections, r=alexcrichton\n\nThe collections debug helpers no longer prefix output with the\r\ncollection name, in line with the current conventions for Debug\r\nimplementations. Implementations that want to preserve the current\r\nbehavior can simply add a `try!(write!(fmt, \"TypeName \"));` at the\r\nbeginning of the `fmt` method.\r\n\r\n[breaking-change]"
  },
  {
    "hash": "4037f2a368edd75c561bc6f3d8c6f0d644bc4180",
    "author": "Steven Fackler",
    "date": 1427564031,
    "message": "Update debug helpers and add list builder\n\nThe collections debug helpers no longer prefix output with the\ncollection name, in line with the current conventions for Debug\nimplementations. Implementations that want to preserve the current\nbehavior can simply add a `try!(write!(fmt, \"TypeName \"));` at the\nbeginning of the `fmt` method.\n\n[breaking-change]"
  },
  {
    "hash": "c89de2c56baeb61e7cc434924dcc8bedd32b26b8",
    "author": "bors",
    "date": 1427580709,
    "message": "Auto merge of #23300 - sfackler:rm-iterator-ext, r=alexcrichton\n\nAll methods are inlined into Iterator with `Self: Sized` bounds to make\r\nsure Iterator is still object safe.\r\n\r\n[breaking-change]\r\n\r\nThis is blocked on ICEs: https://gist.github.com/sfackler/5aff7c57cf8d896e2c6f\r\nSeem to be similar to #23281."
  },
  {
    "hash": "d502f4221fd5472c4a7905cdc3c59533e9612822",
    "author": "Steven Fackler",
    "date": 1427576025,
    "message": "Remove IteratorExt\n\nAll methods are inlined into Iterator with `Self: Sized` bounds to make\nsure Iterator is still object safe.\n\n[breaking-change]"
  },
  {
    "hash": "f8b6e28e758231f611e8e7923aa607cebd150717",
    "author": "bors",
    "date": 1427533790,
    "message": "Auto merge of #23799 - reem:error-no-send, r=aturon\n\nThe Send bound is an unnecessary restriction, and though provided as a convenience, can't be removed by downstream code.\r\n\r\nThe removal of this bound is a [breaking-change] since it removes an implicit Send bound on all `E: Error` and all `Error` trait objects.\r\n\r\nTo migrate, consider if your code actually requires the Send bound and, if so, add it explicitly.\r\n\r\nFixes #23774\r\n\r\nr? @aturon"
  },
  {
    "hash": "3feeea59dbfe397cccc6760b68f7bfb8291540b7",
    "author": "Jonathan Reem",
    "date": 1427499316,
    "message": "Make `std::error::Error` not inherit from Send\n\nThe Send bound is an unnecessary restriction, and though provided as a\nconvenience, can't be removed by downstream code.\n\nThe removal of this bound is a [breaking-change] since it\nremoves an implicit Send bound on all `E: Error` and all\n`Error` trait objects.\n\nTo migrate, consider if your code actually requires the Send\nbound and, if so, add it explicitly.\n\nFixes #23774"
  },
  {
    "hash": "b24a3b82011c3b78573ace4ade3f99d7c4701a11",
    "author": "Alex Crichton",
    "date": 1427476799,
    "message": "rustc: Remove support for hyphens in crate names\n\nThis commit removes parser support for `extern crate \"foo\" as bar` as the\nrenamed crate is now required to be an identifier. Additionally this commit\nenables hard errors on crate names that contain hyphens in them, they must now\nsolely contain alphanumeric characters or underscores.\n\nIf the crate name is inferred from the file name, however, the file name\n`foo-bar.rs` will have the crate name inferred as `foo_bar`. If a binary is\nbeing emitted it will have the name `foo-bar` and a library will have the name\n`libfoo_bar.rlib`.\n\nThis commit is a breaking change for a number of reasons:\n\n* Old syntax is being removed. This was previously only issuing warnings.\n* The output for the compiler when input is received on stdin is now `rust_out`\n  instead of `rust-out`.\n* The crate name for a crate in the file `foo-bar.rs` is now `foo_bar` which can\n  affect infrastructure such as logging.\n\n[breaking-change]"
  },
  {
    "hash": "1639e51f6e4d036478705f4581de3a7417ccec0f",
    "author": "Brian Anderson",
    "date": 1427485849,
    "message": "Feature gate *all* slice patterns. #23121\n\nUntil some backwards-compatibility hazards are fixed in #23121,\nthese need to be unstable.\n\n[breaking-change]"
  },
  {
    "hash": "9754b06cd80cfcc523573535090519bec935fec3",
    "author": "Alex Crichton",
    "date": 1427401533,
    "message": "rustc: Remove support for old_impl_check\n\nThis commit removes compiler support for the `old_impl_check` attribute which\nshould in theory be entirely removed now. The last remaining use of it in the\nstandard library has been updated by moving the type parameter on the\n`old_io::Acceptor` trait into an associated type. As a result, this is a\nbreaking change for all current users of the deprecated `old_io::Acceptor`\ntrait. Code can be migrated by using the `Connection` associated type instead.\n\n[breaking-change]"
  },
  {
    "hash": "45f1324037b098d6e92da7b34cc0aba274fdae97",
    "author": "Alex Crichton",
    "date": 1427476072,
    "message": "rollup merge of #23771: aturon/stab-straggle-1\n\nMarks as `#[stable}`:\n\n* `ok_or`\n* `ok_or_else`\n* `iter_mut`\n* `cloned`\n\nSimilarly to `IteratorExt::cloned`, the `cloned` method is pared down to\nwork only on `Option<&T>`. Thus, this is a:\n\n[breaking-change]\n\nr? @alexcrichton"
  },
  {
    "hash": "c9f600bceeb5086ea292c3872ee3094ce770f9b0",
    "author": "Aaron Turon",
    "date": 1427417233,
    "message": "Stabilize some stragglers in `std::option`\n\nMarks as `#[stable}`:\n\n* `ok_or`\n* `ok_or_else`\n* `iter_mut`\n* `cloned`\n\nSimilarly to `IteratorExt::cloned`, the `cloned` method is pared down to\nwork only on `Option<&T>`. Thus, this is a:\n\n[breaking-change]"
  },
  {
    "hash": "e42521aa58be928dd62b5450c443368d29ab6a65",
    "author": "Alex Crichton",
    "date": 1427476061,
    "message": "rollup merge of #23535: pnkfelix/fsk-filling-drop\n\nReplace zeroing-on-drop with filling-on-drop.\n\nThis is meant to set the stage for removing *all* zeroing and filling (on drop) in the future.\n\nNote that the code is meant to be entirely abstract with respect to the particular values used for the drop flags: the final commit demonstrates how to go from zeroing-on-drop to filling-on-drop by changing the value of three constants (in two files).\n\nSee further discussion on the internals thread:\n  http://internals.rust-lang.org/t/attention-hackers-filling-drop/1715/11\n\n[breaking-change] especially for structs / enums using `#[unsafe_no_drop_flag]`."
  },
  {
    "hash": "3b13b9c2b4e72d08cb1c68024ccc4f50001f4878",
    "author": "Alex Crichton",
    "date": 1427236034,
    "message": "rollup merge of #23638: pnkfelix/fsk-reject-specialized-drops\n\nReject specialized Drop impls.\n\nSee Issue #8142 for discussion.\n\nThis makes it illegal for a Drop impl to be more specialized than the original item.\n\nSo for example, all of the following are now rejected (when they would have been blindly accepted before):\n\n```rust\nstruct S<A> { ... };\nimpl Drop for S<i8> { ... } // error: specialized to concrete type\n\nstruct T<'a> { ... };\nimpl Drop for T<'static> { ... } // error: specialized to concrete region\n\nstruct U<A> { ... };\nimpl<A:Clone> Drop for U<A> { ... } // error: added extra type requirement\n\nstruct V<'a,'b>;\nimpl<'a,'b:a> Drop for V<'a,'b> { ... } // error: added extra region requirement\n```\n\nDue to examples like the above, this is a [breaking-change].\n\n(The fix is to either remove the specialization from the `Drop` impl, or to transcribe the requirements into the struct/enum definition; examples of both are shown in the PR's fixed to `libstd`.)\n\n----\n\nThis is likely to be the last thing blocking the removal of the `#[unsafe_destructor]` attribute.\n\nFix #8142\nFix #23584"
  },
  {
    "hash": "5b2e8693e42dee545d336c0364773b3fbded93a5",
    "author": "Felix S. Klock II",
    "date": 1427232443,
    "message": "Reject specialized Drop impls.\n\nSee Issue 8142 for discussion.\n\nThis makes it illegal for a Drop impl to be more specialized than the\noriginal item.\n\nSo for example, all of the following are now rejected (when they would\nhave been blindly accepted before):\n\n```rust\nstruct S<A> { ... };\nimpl Drop for S<i8> { ... } // error: specialized to concrete type\n\nstruct T<'a> { ... };\nimpl Drop for T<'static> { ... } // error: specialized to concrete region\n\nstruct U<A> { ... };\nimpl<A:Clone> Drop for U<A> { ... } // error: added extra type requirement\n\nstruct V<'a,'b>;\nimpl<'a,'b:a> Drop for V<'a,'b> { ... } // error: added extra region requirement\n```\n\nDue to examples like the above, this is a [breaking-change].\n\n(The fix is to either remove the specialization from the `Drop` impl,\nor to transcribe the requirements into the struct/enum definition;\nexamples of both are shown in the PR's fixed to `libstd`.)\n\n----\n\nThis is likely to be the last thing blocking the removal of the\n`#[unsafe_destructor]` attribute.\n\nIncludes two new error codes for the new dropck check.\n\nUpdate run-pass tests to accommodate new dropck pass.\n\nUpdate tests and docs to reflect new destructor restriction.\n\n----\n\nImplementation notes:\n\nWe identify Drop impl specialization by not being as parametric as the\nstruct/enum definition via unification.\n\nMore specifically:\n\n 1. Attempt unification of a skolemized instance of the struct/enum\n    with an instance of the Drop impl's type expression where all of\n    the impl's generics (i.e. the free variables of the type\n    expression) have been replaced with unification variables.\n\n 2. If unification fails, then reject Drop impl as specialized.\n\n 3. If unification succeeds, check if any of the skolemized\n    variables \"leaked\" into the constraint set for the inference\n    context; if so, then reject Drop impl as specialized.\n\n 4. Otherwise, unification succeeded without leaking skolemized\n    variables: accept the Drop impl.\n\nWe identify whether a Drop impl is injecting new predicates by simply\nlooking whether the predicate, after an appropriate substitution,\nappears on the struct/enum definition."
  },
  {
    "hash": "9330bae4bde720dbdf8d379bd5529a1bb7a6f1e9",
    "author": "Niko Matsakis",
    "date": 1427155050,
    "message": "Fallout from changing fn traits to use inheritance rather than bridge\nimpls. This is a [breaking-change] (for gated code) in that when you\nimplement `Fn` (`FnMut`) you must also implement `FnOnce`. This commit\ndemonstrates how to fix it."
  },
  {
    "hash": "f78815979706bca435bff80155b28acc80a19781",
    "author": "Steve Klabnik",
    "date": 1427144743,
    "message": "Rollup merge of #23119 - nikomatsakis:issue-23116-ref-mut, r=pnkfelix\n\nDon't allow upcasting to a supertype in the type of the match discriminant. Fixes #23116.\r\n\r\nThis is a [breaking-change] in that it closes a type hole that previously existed.\r\n\r\nr? @pnkfelix"
  },
  {
    "hash": "753efb5042563dd34a4a524197fa14a129ddf449",
    "author": "Alex Crichton",
    "date": 1427148650,
    "message": "rollup merge of #23601: nikomatsakis/by-value-index\n\nThis is a [breaking-change]. When indexing a generic map (hashmap, etc) using the `[]` operator, it is now necessary to borrow explicitly, so change `map[key]` to `map[&key]` (consistent with the `get` routine). However, indexing of string-valued maps with constant strings can now be written `map[\"abc\"]`.\n\nr? @japaric\ncc @aturon @Gankro"
  },
  {
    "hash": "2153c581ef66de1537286b58b1b323d24c25d07f",
    "author": "Alex Crichton",
    "date": 1427148549,
    "message": "rollup merge of #23557: aturon/rfc-909\n\nThis commit implements [RFC 909](https://github.com/rust-lang/rfcs/pull/909):\n\nThe `std::thread_local` module is now deprecated, and its contents are\navailable directly in `std::thread` as `LocalKey`, `LocalKeyState`, and\n`ScopedKey`.\n\nThe macros remain exactly as they were, which means little if any code\nshould break. Nevertheless, this is technically a:\n\n[breaking-change]\n\nCloses #23547"
  },
  {
    "hash": "6bd3ab0d8140053475a901ad4e2e80e98955bcb0",
    "author": "Aaron Turon",
    "date": 1427135334,
    "message": "Implement RFC 909: move thread_local into thread\n\nThis commit implements [RFC\n909](https://github.com/rust-lang/rfcs/pull/909):\n\nThe `std::thread_local` module is now deprecated, and its contents are\navailable directly in `std::thread` as `LocalKey`, `LocalKeyState`, and\n`ScopedKey`.\n\nThe macros remain exactly as they were, which means little if any code\nshould break. Nevertheless, this is technically a:\n\n[breaking-change]\n\nCloses #23547"
  },
  {
    "hash": "b97e1cc28e0d3fe6a745a02a7c1750564a090f34",
    "author": "Alex Crichton",
    "date": 1427148548,
    "message": "rollup merge of #23541: aturon/stab-error\n\nThis small commit stabilizes the `Error` trait as-is, except that `Send`\nand `Debug` are added as constraints. The `Send` constraint is because\nmost uses of `Error` will be for trait objects, and by default we would\nlike these objects to be transferrable between threads. The `Debug`\nconstraint is to ensure that e.g. `Box<Error>` is `Debug`, and because\ntypes that implement `Display` should certainly implement `Debug` in any case.\n\nIn the near future we expect to add `Any`-like downcasting features to\n`Error`, but this is waiting on some additional\nmechanisms (`Reflect`). It will be added before 1.0 via default methods.\n\n[breaking-change]\n\nr? @alexcrichton\n\nCloses #21790"
  },
  {
    "hash": "9231ceb6dd273d8101e1b3906e6060f802e6423d",
    "author": "Aaron Turon",
    "date": 1427135239,
    "message": "Stabilize the Error trait\n\nThis small commit stabilizes the `Error` trait as-is, except that `Send`\nand `Debug` are added as constraints. The `Send` constraint is because\nmost uses of `Error` will be for trait objects, and by default we would\nlike these objects to be transferrable between threads. The `Debug`\nconstraint is to ensure that e.g. `Box<Error>` is `Debug`, and because\ntypes that implement `Display` should certainly implement `Debug` in any case.\n\nIn the near future we expect to add `Any`-like downcasting features to\n`Error`, but this is waiting on some additional\nmechanisms (`Reflect`). It will be added before 1.0 via default methods.\n\n[breaking-change]"
  },
  {
    "hash": "8389253df0431e58bfe0a8e0e3949d58ebe7400f",
    "author": "Aaron Turon",
    "date": 1427148105,
    "message": "Add generic conversion traits\n\nThis commit:\n\n* Introduces `std::convert`, providing an implementation of\nRFC 529.\n\n* Deprecates the `AsPath`, `AsOsStr`, and `IntoBytes` traits, all\nin favor of the corresponding generic conversion traits.\n\n  Consequently, various IO APIs now take `AsRef<Path>` rather than\n`AsPath`, and so on. Since the types provided by `std` implement both\ntraits, this should cause relatively little breakage.\n\n* Deprecates many `from_foo` constructors in favor of `from`.\n\n* Changes `PathBuf::new` to take no argument (creating an empty buffer,\n  as per convention). The previous behavior is now available as\n  `PathBuf::from`.\n\n* De-stabilizes `IntoCow`. It's not clear whether we need this separate trait.\n\nCloses #22751\nCloses #14433\n\n[breaking-change]"
  },
  {
    "hash": "19fef72a8c14100029e5ce39cbc5472ab091dad8",
    "author": "Felix S. Klock II",
    "date": 1426847120,
    "message": "Added panic-on-overflow for rhs of left and right shift expressions.\n\nThis includes a slight refactoring of the `cast_shift_rhs` and related\nfunctions in `trans::base`, so that I can call them from much later in\nthe compiler's control flow (so that we can clearly dilineate where\nautomatic conversions of the RHS occur, versus where we check it).\n\nThe rhs-checking and fallback-masking is generalized to 8- and 16-bit\nvalues, and the fallback-masking is turned on unconditionally.\n\nFix #10183.\n\nIs this a [breaking-change]?  I would argue it is not; it only adds a\nstrict definition to what was previously undefined behavior; however,\nthere might be code that was e.g. assuming that `1_i8 << 17` yields 0.\n(This happens in certain contexts and at certain optimization levels.)"
  },
  {
    "hash": "ad41e7cd7a3d1969e666508d7e4a3ba305cee2ec",
    "author": "Alex Crichton",
    "date": 1427148439,
    "message": "rollup merge of #23119: nikomatsakis/issue-23116-ref-mut\n\nDon't allow upcasting to a supertype in the type of the match discriminant. Fixes #23116.\n\nThis is a [breaking-change] in that it closes a type hole that previously existed.\n\nr? @pnkfelix"
  },
  {
    "hash": "45fae882568d9bf36ade39f210a2721d05e556dd",
    "author": "Niko Matsakis",
    "date": 1427103043,
    "message": "When matching against a pattern (either via `match` or `let`) that\ncontains ref-bindings, do not permit any upcasting from the type of\nthe value being matched. Similarly, do not permit coercion in a `let`.\n\nThis is a [breaking-change] in that it closes a type hole that\npreviously existed, and in that coercion is not performed. You should\nbe able to work around the latter by converting:\n\n```rust\nlet ref mut x: T = expr;\n```\n\ninto\n\n```rust\nlet x: T = expr;\nlet ref mut x = x;\n```\n\nRestricting coercion not to apply in the case of `let ref` or `let ref mut` is sort\nof unexciting to me, but seems the best solution:\n\n1. Mixing coercion and `let ref` or `let ref mut` is a bit odd, because you are taking\n   the address of a (coerced) temporary, but only sometimes. It's not syntactically evident,\n   in other words, what's going on. When you're doing a coercion, you're kind of\n\n2. Put another way, I would like to preserve the relationship that\n   `equality <= subtyping <= coercion <= as-coercion`, where this is\n   an indication of the number of `(T1,T2)` pairs that are accepted by\n   the various relations. Trying to mix `let ref mut` and coercion\n   would create another kind of relation that is like coercion, but\n   acts differently in the case where a precise match is needed.\n\n3. In any case, this is strictly more conservative than what we had\n   before and we can undo it in the future if we find a way to make\n   coercion mix with type equality.\n\nThe change to match I feel ok about but similarly unthrilled. There is\nsome subtle text already concerning whether to use eqtype or subtype\nfor identifier bindings. The best fix I think would be to always have\nmatch use strict equality but use subtyping on identifier bindings,\nbut the comment `(*)` explains why that's not working at the moment.\nAs above, I think we can change this as we clean up the code there."
  },
  {
    "hash": "a91eece96b1c945bebb01a7e906dabc2d736a131",
    "author": "Manish Goregaokar",
    "date": 1427066666,
    "message": "Rollup merge of #23559 - aturon:future-proof-map-index, r=Gankro\n\n This commit removes the `IndexMut` impls on `HashMap` and `BTreeMap`, in\norder to future-proof the API against the eventual inclusion of an\n`IndexSet` trait.\n\nIdeally, we would eventually be able to support:\n\n```rust\nmap[owned_key] = val;\nmap[borrowed_key].mutating_method(arguments);\n&mut map[borrowed_key];\n```\n\nbut to keep the design space as unconstrained as possible, we do not\ncurrently want to support `IndexMut`, in case some other strategy will\neventually be needed.\n\nCode currently using mutating index notation can use `get_mut` instead.\n\n[breaking-change]\n\nCloses #23448\n\nr? @Gankro"
  },
  {
    "hash": "5fe0bb743a0af0413f8989a70a4f926fa5c63074",
    "author": "Aaron Turon",
    "date": 1426873591,
    "message": "Future-proof indexing on maps: remove IndexMut\n\nThis commit removes the `IndexMut` impls on `HashMap` and `BTreeMap`, in\norder to future-proof the API against the eventual inclusion of an\n`IndexSet` trait.\n\nIdeally, we would eventually be able to support:\n\n```rust\nmap[owned_key] = val;\nmap[borrowed_key].mutating_method(arguments);\n&mut map[borrowed_key];\n```\n\nbut to keep the design space as unconstrained as possible, we do not\ncurrently want to support `IndexMut`, in case some other strategy will\neventually be needed.\n\nCode currently using mutating index notation can use `get_mut` instead.\n\n[breaking-change]\n\nCloses #23448"
  },
  {
    "hash": "6107e4c0b88d9e22482ed88c52b98c2ec2034bb1",
    "author": "Manish Goregaokar",
    "date": 1426835595,
    "message": "Rollup merge of  #23534 - steveklabnik:remove_sched_threads, r=alexcrichton\n\nAs @alexcrichton says, this was really a libgreen thing, and isn't\nrelevant now.\n\nAs this removes a technically-public function, this is a\n\n[breaking-change]"
  },
  {
    "hash": "71321ff33fa3fe71cc1df541b3d0547b4e208923",
    "author": "Steve Klabnik",
    "date": 1426809967,
    "message": "Remove rt::default_sched_threads and RUST_THREADS.\n\nAs @alexcrichton says, this was really a libgreen thing, and isn't\nrelevant now.\n\nAs this removes a technically-public function, this is a\n\n[breaking-change]\n\nConflicts:\n\tsrc/libtest/lib.rs"
  },
  {
    "hash": "e2d32b74ecedc3f603def4d5130c0c300edce7d1",
    "author": "Manish Goregaokar",
    "date": 1426835591,
    "message": "Rollup merge of #23525 - steveklabnik:test_tasks, r=alexcrichton\n\n We don't use 'task' anymore, these are now threads.\n\nBecause this changes the name of a compiler option, this is\n\n[breaking-change]\n\nI think this is small enough to not need an RFC, nor a period of accepting both. If we want to take both for a while, I can change the patch."
  },
  {
    "hash": "7cbc42849f7586d3c567d7ac8f202839f9b968e8",
    "author": "Steve Klabnik",
    "date": 1426794176,
    "message": "RUST_TEST_TASKS -> RUST_TEST_THREADS\n\nWe don't use 'task' anymore, these are now threads.\n\nBecause this changes the name of a compiler option, this is\n\n[breaking-change]"
  },
  {
    "hash": "3e433738fb1ab9f353c943d60061d72024c6af07",
    "author": "Manish Goregaokar",
    "date": 1426835591,
    "message": "Rollup merge of #23504 - alexcrichton:parse-error-not-unit, r=aturon\n\n The IP and socket address types all had `FromStr` implemented but the\nimplementations were not marked stable, nor was the error type returned ready to\nbe properly stabilized.\n\nThis commit marks the implementations of `FromStr` as stable and also renamed\nthe `ParseError` structure to `AddrParseError`. The error is now also an opaque\nstructure that cannot be constructed outside the standard library.\n\ncc #22949\n[breaking-change]"
  },
  {
    "hash": "fda8673531c2ecea13c86216f964feb6091b4ade",
    "author": "bors",
    "date": 1426825804,
    "message": "Auto merge of #23504 - alexcrichton:parse-error-not-unit, r=aturon\n\nThe IP and socket address types all had `FromStr` implemented but the\r\nimplementations were not marked stable, nor was the error type returned ready to\r\nbe properly stabilized.\r\n\r\nThis commit marks the implementations of `FromStr` as stable and also renamed\r\nthe `ParseError` structure to `AddrParseError`. The error is now also an opaque\r\nstructure that cannot be constructed outside the standard library.\r\n\r\ncc #22949\r\n[breaking-change]"
  },
  {
    "hash": "f2e3c7469b56cd744e613a05a1ea73f441f66401",
    "author": "Alex Crichton",
    "date": 1426734615,
    "message": "std: Stabilize FromStr implementations in std::net\n\nThe IP and socket address types all had `FromStr` implemented but the\nimplementations were not marked stable, nor was the error type returned ready to\nbe properly stabilized.\n\nThis commit marks the implementations of `FromStr` as stable and also renamed\nthe `ParseError` structure to `AddrParseError`. The error is now also an opaque\nstructure that cannot be constructed outside the standard library.\n\ncc #22949\n[breaking-change]"
  },
  {
    "hash": "7f53b943f94b338e4c5401f1ce9efbe7da92b0c5",
    "author": "bors",
    "date": 1426792522,
    "message": "Auto merge of #23430 - alexcrichton:io-error, r=aturon\n\nThis commit stabilizes the `ErrorKind` enumeration which is consumed by and\r\ngenerated by the `io::Error` type. The purpose of this type is to serve as a\r\ncross-platform namespace to categorize errors into. Two specific issues are\r\naddressed as part of this stablization:\r\n\r\n* The naming of each variant was scrutinized and some were tweaked. An example\r\n  is how `FileNotFound` was renamed to simply `NotFound`. These names should not\r\n  show either a Unix or Windows bias and the set of names is intended to grow\r\n  over time. For now the names will likely largely consist of those errors\r\n  generated by the I/O APIs in the standard library.\r\n\r\n* The mapping of OS error codes onto kinds has been altered. Coalescing no\r\n  longer occurs (multiple error codes become one kind). It is intended that each\r\n  OS error code, if bound, corresponds to only one `ErrorKind`. The current set\r\n  of error kinds was expanded slightly to include some networking errors.\r\n\r\nThis commit also adds a `raw_os_error` function which returns an `Option<i32>`\r\nto extract the underlying raw error code from the `Error`.\r\n\r\nCloses #16666\r\n\r\n[breaking-change]"
  },
  {
    "hash": "a32bb1bcc4c6b8806b1058c2f654415341240233",
    "author": "Manish Goregaokar",
    "date": 1426735174,
    "message": "Rollup merge of #23475 - nikomatsakis:closure-ret-syntax, r=acrichto\n\n Require braces when a closure has an explicit return type. This is a [breaking-change]: instead of a closure like `|| -> i32 22`, prefer `|| -> i32 { 22 }`.\n\nFixes #23420."
  },
  {
    "hash": "c225824bded695c8bced713f5a4c62fe327277bc",
    "author": "Niko Matsakis",
    "date": 1426723647,
    "message": "Require braces when a closure has an explicit return type. This is a\n[breaking-change]: instead of a closure like `|| -> i32 22`, prefer `||\n-> i32 { 22 }`.\n\nFixes #23420."
  },
  {
    "hash": "46f649c479ce40f3b4590590dda6c2895e8d60f6",
    "author": "bors",
    "date": 1426667242,
    "message": "Auto merge of #22838 - petrochenkov:bytelit, r=alexcrichton\n\nThis patch changes the type of byte string literals from `&[u8]` to `&[u8; N]`.\r\nIt also implements some necessary traits (`IntoBytes`, `Seek`, `Read`, `BufRead`) for fixed-size arrays (also related to #21725) and adds test for #17233, which seems to be resolved.\r\n\r\nFixes #18465\r\n[breaking-change]"
  },
  {
    "hash": "c10918905fda1344e78bc16e6e73294d096ee97d",
    "author": "bors",
    "date": 1426648932,
    "message": "Auto merge of #23452 - nikomatsakis:unsafety-subtyping, r=nrc\n\nSafe fns are no longer subtypes of unsafe fns, but you can coerce from one to the other.\r\n\r\nThis is a [breaking-change] in that impl fns must now be declared `unsafe` if the trait is declared `unsafe`. In some rare cases, the subtyping change may also direct affect you, but no such cases were encountered in practice.\r\n\r\nFixes #23449.\r\n\r\nr? @nrc"
  },
  {
    "hash": "ea8b82e90c450febb1f26a07862a1ec89c22addd",
    "author": "bors",
    "date": 1426627382,
    "message": "Auto merge of #23376 - eddyb:die-tydesc-die, r=nikomatsakis\n\nFinal remnant of reflection is gone. Also, virtual `Trait` destructors are no longer tied to `Box`.\r\nThat means they can be used to drop any instance of the type (used in libarena to replace TyDesc).\r\n\r\nThis is [breaking-change] for direct users of intrinsics:\r\n* use `intrinsics::type_name::<T>()` instead of `(*intrinsics::get_tydesc::<T>()).name`\r\n* the only way to get the destructor is from a trait object's vtable (see libarena changes)\r\n\r\nr? @pcwalton f? @dotdash"
  }
]
